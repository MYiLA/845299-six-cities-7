(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{45:function(e,t,a){"use strict";a.r(t);var s,c,i,r,n,o=a(1),l=a(23),d=a(8),j=a(17),u=a(2),m=a(10),h=a(31),b=a(15),p=function(e){var t=Object(b.a)(Object(b.a)({},e),{},{host:{avatarUrl:e.host.avatar_url,id:e.host.id,isPro:e.host.is_pro,name:e.host.name},isFavorite:e.is_favorite,isPremium:e.is_premium,maxAdults:e.max_adults,previewImage:e.preview_image});return delete t.is_favorite,delete t.is_premium,delete t.max_adults,delete t.preview_image,t},_=function(e){if(!Array.isArray(e))throw new Error("\u041f\u0440\u0438\u0448\u043b\u0438 \u043f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u042d\u0442\u043e \u041d\u0415 \u0441\u043f\u0438\u0441\u043e\u043a \u043e\u0442\u0435\u043b\u0435\u0439");return e.map((function(e){return p(e)}))},O=function(e){if("Object"!==e.constructor.name)throw new Error("\u041f\u0440\u0438\u0448\u043b\u0438 \u043f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u042d\u0442\u043e \u041d\u0415 \u043e\u0442\u0435\u043b\u044c");return p(e)},v=function(e){if(!Array.isArray(e))throw new Error("\u041f\u0440\u0438\u0448\u043b\u0438 \u043f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u042d\u0442\u043e \u041d\u0415 \u0441\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432");return e.map((function(e){return function(e){return Object(b.a)(Object(b.a)({},e),{},{user:{avatarUrl:e.user.avatar_url,id:e.user.id,isPro:e.user.is_pro,name:e.user.name}})}(e)}))},x=function(e){if("Object"!==e.constructor.name)throw new Error("\u041f\u0440\u0438\u0448\u043b\u0438 \u043f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u042d\u0442\u043e \u041d\u0415 \u043b\u043e\u0433\u0438\u043d");return function(e){var t=Object(b.a)(Object(b.a)({},e),{},{avatarUrl:e.avatar_url,isPro:e.is_pro});return delete t.avatar_url,delete t.is_pro,t}(e)},g=5e3,f=[5,4,3,2,1],N="\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443.";!function(e){e[e.MIN_LENGTH=50]="MIN_LENGTH",e[e.MAX_LENGTH=300]="MAX_LENGTH"}(s||(s={})),function(e){e.MAIN="main",e.LOGIN="login",e.FAVORITES="favorites",e.OFFER="offer",e.DEFAULT_CITY="Paris"}(c||(c={})),function(e){e.HOTELS="/hotels",e.FAVORITE="/favorite",e.COMMENTS="/comments",e.LOGIN="/login",e.LOGOUT="/logout"}(i||(i={})),function(e){e.FAVORITES="favorites",e.CITIES="cities",e.NEAR_PLACES="near-places"}(r||(r={})),function(e){e.PROPERTY="property",e.PLACE_CARD="place-card"}(n||(n={}));var y={EMAIL:/^[^\s@]{3,}@[^\s@]{2,}\.[^\s@]{2,}$/,ONE_SIMBOL:/\S/},w={POPULAR:{name:"Popular",path:"popular"},PRICE_LOW_TO_HIGH:{name:"Price: low to high",path:"price-low-to-high"},PRICE_HIGH_TO_LOW:{name:"Price: high to low",path:"price-high-to-low"},TOP_RATED_FIRST:{name:"Top rated first",path:"top-rated-first"}},L=Object(h.a)({baseQuery:function(e){var t=Object(m.d)(e);return function(e,a,s){var c=a.signal,i=a.dispatch,r=a.getState,n=new AbortController,o=n.signal;return c.addEventListener("abort",(function(){return n.abort()})),setTimeout((function(){n.abort()}),5e3),t(e,{signal:o,dispatch:i,getState:r},s)}}({baseUrl:"https://7.react.pages.academy/six-cities",prepareHeaders:function(e){var t,a=null!==(t=sessionStorage.getItem("token"))&&void 0!==t?t:"";return a&&e.set("X-Token",a),e}}),tagTypes:["favorite","comment"],endpoints:function(e){return{getHotels:e.query({query:function(){return i.HOTELS},providesTags:["favorite"],transformResponse:function(e){return _(e)}}),getHotelId:e.query({query:function(e){return"".concat(i.HOTELS,"/").concat(e)},providesTags:["favorite"],transformResponse:function(e){return O(e)}}),getHotelIdNearby:e.query({query:function(e){return"".concat(i.HOTELS,"/").concat(e,"/nearby")},providesTags:["favorite"],transformResponse:function(e){return _(e)}}),getFavorites:e.query({query:function(){return i.FAVORITE},providesTags:["favorite"],transformResponse:function(e){return _(e)}}),postFavoriteStatus:e.mutation({query:function(e){var t=e.id,a=e.status;return{url:"".concat(i.FAVORITE,"/").concat(t,"/").concat(a),method:"POST"}},invalidatesTags:["favorite"],transformResponse:function(e){return O(e)}}),getComments:e.query({query:function(e){return"".concat(i.COMMENTS,"/").concat(e)},providesTags:["comment"],transformResponse:function(e){return v(e)}}),postComment:e.mutation({query:function(e){var t=e.id,a=e.body;return{url:"".concat(i.COMMENTS,"/").concat(t),method:"POST",body:a}},invalidatesTags:["comment"]}),getLogin:e.query({query:function(){return i.LOGIN},transformResponse:function(e){return x(e)}}),postLogin:e.mutation({query:function(e){return{url:i.LOGIN,method:"POST",body:e}}}),deleteLogout:e.mutation({query:function(){return{url:i.LOGOUT,method:"DELETE"}}})}}}),E=(L.reducer,L.reducerPath,L.usePostFavoriteStatusMutation),T=L.usePostCommentMutation,S=L.useGetLoginQuery,I=L.usePostLoginMutation,A=[{location:{latitude:48.85,longitude:2.35,zoom:10},name:"Paris"},{location:{latitude:50.9375,longitude:6.9603,zoom:10},name:"Cologne"},{location:{latitude:50.8503,longitude:4.3517,zoom:10},name:"Brussels"},{location:{latitude:52.370216,longitude:4.895168,zoom:10},name:"Amsterdam"},{location:{latitude:53.5511,longitude:9.9937,zoom:10},name:"Hamburg"},{location:{latitude:51.2277,longitude:6.7735,zoom:10},name:"Dusseldorf"}],R=Object(u.a)({reducer:Object(j.a)({cities:function(){return A}},L.reducerPath,L.reducer),middleware:function(e){return e().concat(L.middleware)}}),F=a(6),C=a(5),M=a(20),P=a.n(M),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"".concat(20*Math.round(e),"%")},D=function(e,t){switch(e){case c.MAIN:return"/";case c.OFFER:return"/".concat(e).concat(t?"/".concat(t):"");default:return"/".concat(e)}},H=a(7),z=function(){var e=function(){var e;return null!==(e=!!sessionStorage.getItem("token"))&&void 0!==e&&e}(),t=L.endpoints.getLogin.useQuery();return{data:t.data,isLoading:t.isLoading,isAuth:e,refetch:t.refetch}},U=a(0);var G=function(e){var t=e.isAuth,a=e.avatarStyles,s=e.email,i=void 0===s?"":s,r=e.onSignOut;return Object(U.jsx)("header",{className:"header",children:Object(U.jsx)("div",{className:"container",children:Object(U.jsxs)("div",{className:"header__wrapper",children:[Object(U.jsx)("div",{className:"header__left",children:Object(U.jsx)(F.b,{className:"header__logo-link header__logo-link--active",to:D(c.DEFAULT_CITY),children:Object(U.jsx)("img",{className:"header__logo",src:"img/logo.svg",alt:"6 cities logo",width:81,height:41})})}),Object(U.jsx)("nav",{className:"header__nav",children:Object(U.jsxs)("ul",{className:"header__nav-list",children:[t&&Object(U.jsx)("li",{className:"header__nav-item user",children:Object(U.jsxs)(F.b,{className:"header__nav-link header__nav-link--profile",to:D(c.FAVORITES),children:[Object(U.jsx)("div",{className:"header__avatar-wrapper user__avatar-wrapper",style:a}),Object(U.jsx)("span",{className:"header__user-name user__name",children:i})]})}),Object(U.jsxs)("li",{className:"header__nav-item",children:[t&&Object(U.jsx)("a",{className:"header__nav-link",href:"/",onClick:r,children:Object(U.jsx)("span",{className:"header__signout",children:"Sign out"})}),!t&&Object(U.jsx)(F.b,{className:"header__nav-link",to:D(c.LOGIN),children:Object(U.jsx)("span",{className:"header__signout",children:"Sign in"})})]})]})})]})})})};var Y=function(e){var t=e.text;return Object(U.jsx)("div",{className:"container fixed",children:Object(U.jsx)("div",{className:"form__submit",children:t})})};var q=function(){var e=z(),t=e.data,a=e.isAuth,s=e.refetch,c=L.endpoints.deleteLogout.useMutation(),i=Object(H.a)(c,1)[0],r=Object(o.useState)(!1),n=Object(H.a)(r,2),l=n[0],d=n[1],j=Object(o.useCallback)((function(e){e.preventDefault(),i().unwrap().catch((function(){d(!0),setTimeout((function(){return d(!1)}),g)})).finally((function(){sessionStorage.removeItem("token"),s()}))}),[a]),u={backgroundImage:"url(".concat(null===t||void 0===t?void 0:t.avatarUrl,")")};return Object(U.jsxs)(U.Fragment,{children:[l&&Object(U.jsx)(Y,{text:"".concat(N," \u041d\u0435 \u0431\u0435\u0441\u043f\u043e\u043a\u043e\u0439\u0442\u0435\u0441\u044c \u043e \u0432\u0430\u0448\u0438\u0445 \u0434\u0430\u043d\u043d\u044b\u0445. \u041c\u044b \u0438\u0445 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0447\u0438\u0441\u0442\u0438\u043b\u0438 :-)")}),Object(U.jsx)(G,{isAuth:a,avatarStyles:u,email:null===t||void 0===t?void 0:t.email,onSignOut:j})]})};var V=function(e){var t=e.onSetFavorite,a=e.type,s=e.isFavorite,c=e.width,i=e.height;return Object(U.jsxs)("button",{className:"".concat(a,"__bookmark-button button ").concat(s?"".concat(a,"__bookmark-button--active"):""),type:"button",onClick:t,children:[Object(U.jsx)("svg",{className:"".concat(a,"__bookmark-icon"),width:c,height:i,children:Object(U.jsx)("use",{xlinkHref:"#icon-bookmark"})}),Object(U.jsx)("span",{className:"visually-hidden",children:"To bookmarks"})]})},B={type:n.PROPERTY,width:31,height:33};var Q=function(e){var t=e.id,a=e.isFavorite,s=e.style,i=void 0===s?B:s,r=i.type,n=i.width,l=i.height,d=z().isAuth,j=Object(o.useState)(!1),u=Object(H.a)(j,2),m=u[0],h=u[1],b=Object(C.g)(),p=E(),_=Object(H.a)(p,1)[0],O=Object(o.useCallback)((function(e){(e.preventDefault(),d)?_({id:t,status:a?0:1}).unwrap().catch((function(){h(!0),setTimeout((function(){return h(!1)}),g)})):b.push("/".concat(c.LOGIN))}),[d,a]);return Object(U.jsxs)(U.Fragment,{children:[m&&Object(U.jsx)(Y,{text:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438. ".concat(N)}),Object(U.jsx)(V,{onSetFavorite:O,type:r,isFavorite:a,width:n,height:l})]})},W={type:n.PLACE_CARD,width:18,height:19};var X=function(e){var t=e.id,a=e.isFavorite;return Object(U.jsx)(Q,{id:t,isFavorite:a,style:W})},J={width:260,height:200};var K=function(e){var t=e.cardData,a=e.cardType,s=void 0===a?r.CITIES:a,i=e.className,n=e.children,o=e.imgSize,l=void 0===o?J:o,d=e.onMouseEnter,j=e.onMouseLeave,u=t.isFavorite,m=t.previewImage,h=t.price,b=t.rating,p=t.title,_=t.type,O=t.id;return Object(U.jsxs)("article",{className:"place-card ".concat(i),role:"presentation",onMouseEnter:d,onMouseLeave:j,children:[n,Object(U.jsx)("div",{className:"".concat(s,"__image-wrapper place-card__image-wrapper"),children:Object(U.jsx)(F.b,{to:D(c.OFFER,O),children:Object(U.jsx)("img",{className:"place-card__image",src:m,width:l.width,height:l.height,alt:"Place"})})}),Object(U.jsxs)("div",{className:"place-card__info ".concat(s===r.FAVORITES?"favorites__card-info":""),children:[Object(U.jsxs)("div",{className:"place-card__price-wrapper",children:[Object(U.jsxs)("div",{className:"place-card__price",children:[Object(U.jsxs)("b",{className:"place-card__price-value",children:["\u20ac",h]}),Object(U.jsx)("span",{className:"place-card__price-text",children:"/\xa0night"})]}),Object(U.jsx)(X,{id:O,isFavorite:u})]}),Object(U.jsx)("div",{className:"place-card__rating rating",children:Object(U.jsxs)("div",{className:"place-card__stars rating__stars",children:[Object(U.jsx)("span",{style:{width:k(b)}}),Object(U.jsx)("span",{className:"visually-hidden",children:"Rating"})]})}),Object(U.jsx)("h2",{className:"place-card__name",children:Object(U.jsx)(F.b,{to:D(c.OFFER,O),children:p})}),Object(U.jsx)("p",{className:"place-card__type",children:_})]})]})},$={width:260,height:200};var Z=function(e){var t=e.className,a=void 0===t?"":t,s=e.cardData,c=e.onMouseEnter,i=e.onMouseLeave,n=s.isPremium;return Object(U.jsx)(K,{className:"cities__place-card ".concat(a),cardData:s,cardType:r.CITIES,onMouseEnter:c,onMouseLeave:i,imgSize:$,children:n?Object(U.jsx)("div",{className:"place-card__mark",children:Object(U.jsx)("span",{children:"Premium"})}):Object(U.jsx)(U.Fragment,{children:" "})})},ee=a(18),te=a.n(ee);a(44);var ae=function(e,t){var a=Object(o.useState)(null),s=Object(H.a)(a,2),c=s[0],i=s[1];return Object(o.useEffect)((function(){if(null!==e&&null===c){var a=te.a.map(e,{center:{lat:t.location.latitude,lng:t.location.longitude},zoom:t.location.zoom});te.a.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>'}).addTo(a),i(a)}}),[e,c,t]),c},se=te.a.icon({iconUrl:"img/pin.svg",iconSize:[30,45],iconAnchor:[15,45]}),ce=te.a.icon({iconUrl:"img/pin-active.svg",iconSize:[30,45],iconAnchor:[15,45]}),ie=[];var re=function(e){var t=e.selectedPoint,a=e.activeCity,s=e.hotels,c=Object(o.useRef)(null),i=ae(c.current,a);return Object(o.useEffect)((function(){i&&(ie.forEach((function(e){e.remove()})),s.forEach((function(e){ie.push(te.a.marker({lat:e.location.latitude,lng:e.location.longitude},{icon:e.id===(null===t||void 0===t?void 0:t.id)?ce:se}).addTo(i))})))}),[i,s,se,ce,t]),Object(o.useEffect)((function(){null===i||void 0===i||i.flyTo(te.a.latLng(a.location.latitude,a.location.longitude),a.location.zoom,{animate:!0,duration:1,easeLinearity:.3})}),[i,a]),Object(U.jsx)("div",{style:{height:"100%"},ref:c})};var ne=function(e){var t=e.sortType,a=e.activeSortType,s=e.city,i=Object(C.g)();return Object(U.jsx)("li",{className:"places__option ".concat(a.path===t.path?"places__option--active":""),children:Object(U.jsx)("div",{role:"button",tabIndex:0,onClick:function(){return i.push("".concat(D(c.MAIN)).concat(s,"/").concat(t.path))},onKeyDown:function(e){"Enter"===e.key&&i.push("".concat(D(c.MAIN)).concat(s,"/").concat(t.path))},children:t.name})})};var oe=function(){var e,t=Object(C.h)(),a=t.city,s=t.sorting,c=void 0===s?w.POPULAR.path:s,i=Object(o.useState)(!1),r=Object(H.a)(i,2),n=r[0],l=r[1],d=Object.values(w),j=null!==(e=d.find((function(e){return e.path===c})))&&void 0!==e?e:w.POPULAR;return Object(U.jsxs)("form",{className:"places__sorting",action:"#",method:"get",children:[Object(U.jsx)("span",{className:"places__sorting-caption",children:"Sort by"})," ",Object(U.jsxs)("span",{className:"places__sorting-type",role:"button",tabIndex:0,onClick:function(){return l(!n)},onMouseEnter:function(){return l(!0)},onKeyDown:function(e){"Enter"===e.key&&l(!n)},children:[j.name,Object(U.jsx)("svg",{className:"places__sorting-arrow",width:7,height:4,children:Object(U.jsx)("use",{xlinkHref:"#icon-arrow-select"})})]}),Object(U.jsx)("ul",{className:"places__options places__options--custom ".concat(n?"places__options--opened":""),onMouseLeave:function(){return l(!1)},children:d.map((function(e){return Object(U.jsx)(ne,{sortType:e,activeSortType:j,city:a},e.path)}))})]})};var le=function(e){var t=e.activeCity,a=e.hotels,s=Object(o.useState)(),c=Object(H.a)(s,2),i=c[0],r=c[1];return Object(U.jsx)("div",{className:"cities",children:Object(U.jsxs)("div",{className:"cities__places-container container",children:[Object(U.jsxs)("section",{className:"cities__places places",children:[Object(U.jsx)("h2",{className:"visually-hidden",children:"Places"}),Object(U.jsxs)("b",{className:"places__found",children:[a.length," ","places to stay in"," ",t.name]}),Object(U.jsx)(oe,{}),Object(U.jsx)("div",{className:"cities__places-list places__list tabs__content",children:a.map((function(e){return Object(U.jsx)(Z,{onMouseEnter:function(){r(e)},onMouseLeave:function(){return r(void 0)},cardData:e},e.id)}))})]}),Object(U.jsx)("div",{className:"cities__right-section",children:Object(U.jsx)("section",{className:"cities__map map",children:Object(U.jsx)(re,{activeCity:t,selectedPoint:i,hotels:a})})})]})})};var de=function(e){var t=e.activeCity,a=e.cities;return Object(U.jsx)("div",{className:"tabs",children:Object(U.jsx)("section",{className:"locations container",children:Object(U.jsx)("ul",{className:"locations__list tabs__list",children:a.map((function(e){return Object(U.jsx)("li",{className:"locations__item",children:Object(U.jsx)(F.b,{className:"locations__item-link tabs__item ".concat(e.name===t.name?"tabs__item--active":""),to:D(e.name),children:Object(U.jsx)("span",{children:e.name})})},e.name)}))})})})};var je=function(){return Object(U.jsx)("div",{className:"cities__places-container container",children:Object(U.jsx)("p",{className:"login__title",children:"Loading..."})})};var ue=function(e){var t=e.activeCityName;return Object(U.jsx)("div",{className:"cities",children:Object(U.jsxs)("div",{className:"cities__places-container cities__places-container--empty container",children:[Object(U.jsx)("section",{className:"cities__no-places",children:Object(U.jsxs)("div",{className:"cities__status-wrapper tabs__content",children:[Object(U.jsx)("b",{className:"cities__status",children:"No places to stay available"}),Object(U.jsxs)("p",{className:"cities__status-description",children:["We could not find any property available at the moment in"," ",t]})]})}),Object(U.jsx)("div",{className:"cities__right-section"})]})})};var me=function(e){var t=e.isLoading,a=e.activeCity,s=e.isEmpty,c=e.cities,i=e.hotels;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("div",{style:{display:"none"},children:Object(U.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",children:[Object(U.jsx)("symbol",{id:"icon-arrow-select",viewBox:"0 0 7 4",children:Object(U.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0l3.5 2.813L7 0v1.084L3.5 4 0 1.084V0z"})}),Object(U.jsx)("symbol",{id:"icon-bookmark",viewBox:"0 0 17 18",children:Object(U.jsx)("path",{d:"M3.993 2.185l.017-.092V2c0-.554.449-1 .99-1h10c.522 0 .957.41.997.923l-2.736 14.59-4.814-2.407-.39-.195-.408.153L1.31 16.44 3.993 2.185z"})}),Object(U.jsx)("symbol",{id:"icon-star",viewBox:"0 0 13 12",children:Object(U.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.5 9.644L10.517 12 9.451 7.56 13 4.573l-4.674-.386L6.5 0 4.673 4.187 0 4.573 3.549 7.56 2.483 12 6.5 9.644z"})})]})}),Object(U.jsxs)("div",{className:"page page--gray page--main",children:[Object(U.jsx)(q,{}),Object(U.jsxs)("main",{className:"page__main page__main--index ".concat(s?"page__main--index-empty":""),children:[Object(U.jsx)("h1",{className:"visually-hidden",children:"Cities"}),Object(U.jsx)(de,{activeCity:a,cities:c}),t&&Object(U.jsx)(je,{}),!t&&0===i.length&&Object(U.jsx)(ue,{activeCityName:a.name}),!t&&0!==i.length&&Object(U.jsx)(le,{activeCity:a,hotels:i})]})]})]})};var he,be=function(){return Object(U.jsx)("div",{className:"page page--gray page--login",children:Object(U.jsx)("main",{className:"page__main page__main--login",children:Object(U.jsx)("div",{className:"page__login-container container",children:Object(U.jsxs)("section",{className:"login",children:[Object(U.jsx)("h1",{children:"404 Not Found"}),Object(U.jsx)(F.b,{className:"form__submit button",to:D(c.DEFAULT_CITY),children:"Go back"})]})})})})},pe=function(){var e,t=Object(C.h)().city;return!(null===(e=L.endpoints.getHotels.useQuery().data)||void 0===e?void 0:e.some((function(e){return e.city.name===t})))},_e=function(e,t){return t.price-e.price},Oe=function(e,t){return e.price-t.price},ve=function(e,t){return t.rating-e.rating},xe=(he={},Object(j.a)(he,w.POPULAR.path,(function(e){return e})),Object(j.a)(he,w.PRICE_HIGH_TO_LOW.path,(function(e){return e.sort(_e)})),Object(j.a)(he,w.PRICE_LOW_TO_HIGH.path,(function(e){return e.sort(Oe)})),Object(j.a)(he,w.TOP_RATED_FIRST.path,(function(e){return e.sort(ve)})),he),ge=function(e){var t=e.activeCity,a=e.sortingType,s=void 0===a?w.POPULAR.path:a,c=L.endpoints.getHotels.useQuery(),i=c.data,r=void 0===i?[]:i,n=c.isLoading,o=c.isError;if(0===r.length)return{hotels:r,isLoading:n,isError:o};var l=r.filter((function(e){return e.city.name===(null===t||void 0===t?void 0:t.name)}));return{hotels:xe[s](l),isLoading:n,isError:o}};var fe=function(){var e,t=Object(C.h)(),a=t.city,s=t.sorting,i=pe(),r=(e=a,Object(d.e)((function(t){return function(e,t){return{activeCity:e.cities.find((function(e){return e.name===t})),cities:e.cities}}(t,e)}),d.c)),n=r.activeCity,o=r.cities,l=ge({activeCity:n,sortingType:s}),j=l.hotels,u=l.isLoading,m=l.isError;return"undefined"===typeof a||""===a?Object(U.jsx)(C.a,{to:D(c.DEFAULT_CITY)}):"undefined"===typeof n?Object(U.jsx)(be,{}):Object(U.jsxs)(U.Fragment,{children:[m&&Object(U.jsx)(Y,{text:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043e\u0442\u0435\u043b\u0438. ".concat(N)}),Object(U.jsx)(me,{isLoading:u,activeCity:n,isEmpty:i,cities:o,hotels:j})]})};var Ne=function(){return Object(U.jsx)("footer",{className:"footer container",children:Object(U.jsx)(F.b,{className:"footer__logo-link",to:D(c.DEFAULT_CITY),children:Object(U.jsx)("img",{className:"footer__logo",src:"img/logo.svg",alt:"6 cities logo",width:64,height:33})})})},ye=function(){var e=L.endpoints.getFavorites.useQuery(),t=e.data;return{hotels:void 0===t?[]:t,isError:e.isError}},we={width:150,height:110};var Le=function(e){var t=e.className,a=void 0===t?"":t,s=e.cardData;return Object(U.jsx)(K,{className:"favorites__card ".concat(a),cardData:s,cardType:r.FAVORITES,imgSize:we})};var Ee=function(e){var t=e.hotels.reduce((function(e,t){var a=t.city.name;return a in e?e[a].push(t):e[a]=[t],e}),{});return Object(U.jsxs)("section",{className:"favorites",children:[Object(U.jsx)("h1",{className:"favorites__title",children:"Saved listing"}),Object(U.jsx)("ul",{className:"favorites__list",children:Object.entries(t).map((function(e){return Object(U.jsxs)("li",{className:"favorites__locations-items",children:[Object(U.jsx)("div",{className:"favorites__locations locations locations--current",children:Object(U.jsx)("div",{className:"locations__item",children:Object(U.jsx)(F.b,{className:"locations__item-link",to:D(e[0]),children:Object(U.jsx)("span",{children:e[0]})})})}),Object(U.jsx)("div",{className:"favorites__places",children:e[1].map((function(e){return Object(U.jsx)(Le,{cardData:e},e.id)}))})]},e[0])}))})]})};var Te=function(){return Object(U.jsxs)("section",{className:"favorites favorites--empty",children:[Object(U.jsx)("h1",{className:"visually-hidden",children:"Favorites (empty)"}),Object(U.jsxs)("div",{className:"favorites__status-wrapper",children:[Object(U.jsx)("b",{className:"favorites__status",children:"Nothing yet saved."}),Object(U.jsx)("p",{className:"favorites__status-description",children:"Save properties to narrow down search or plan your future trips."})]})]})};var Se=function(){var e=ye(),t=e.hotels,a=e.isError,s=0===t.length;return Object(U.jsxs)(U.Fragment,{children:[a&&Object(U.jsx)(Y,{text:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0412\u0430\u043c\u0438 \u043e\u0442\u0435\u043b\u0438. ".concat(N)}),Object(U.jsx)("div",{style:{display:"none"},children:Object(U.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",children:[Object(U.jsx)("symbol",{id:"icon-arrow-select",viewBox:"0 0 7 4",children:Object(U.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0l3.5 2.813L7 0v1.084L3.5 4 0 1.084V0z"})}),Object(U.jsx)("symbol",{id:"icon-bookmark",viewBox:"0 0 17 18",children:Object(U.jsx)("path",{d:"M3.993 2.185l.017-.092V2c0-.554.449-1 .99-1h10c.522 0 .957.41.997.923l-2.736 14.59-4.814-2.407-.39-.195-.408.153L1.31 16.44 3.993 2.185z"})}),Object(U.jsx)("symbol",{id:"icon-star",viewBox:"0 0 13 12",children:Object(U.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.5 9.644L10.517 12 9.451 7.56 13 4.573l-4.674-.386L6.5 0 4.673 4.187 0 4.573 3.549 7.56 2.483 12 6.5 9.644z"})})]})}),Object(U.jsxs)("div",{className:"page ".concat(s?"page--favorites-empty":""),children:[Object(U.jsx)(q,{}),Object(U.jsx)("main",{className:"page__main ".concat(s?"page__main--favorites-empty":"page__main--favorites"),children:Object(U.jsxs)("div",{className:"page__favorites-container container",children:[!s&&Object(U.jsx)(Ee,{hotels:t}),s&&Object(U.jsx)(Te,{})]})}),Object(U.jsx)(Ne,{})]})]})},Ie=function(){var e,t=Object(C.h)().id,a=L.endpoints.getHotelId.useQuery(Number(t)),s=a.data,c=a.isLoading,i=a.isError;return{hotels:null!==(e=L.endpoints.getHotelIdNearby.useQuery(Number(t)).data)&&void 0!==e?e:[],hotel:s,isLoadingHotel:c,isError:i}},Ae=a(26),Re={width:260,height:200};var Fe=function(e){var t=e.className,a=void 0===t?"":t,s=e.cardData,c=e.onMouseEnter,i=e.onMouseLeave,n=s.isPremium;return Object(U.jsx)(K,{className:"near-places__card ".concat(a),cardData:s,cardType:r.NEAR_PLACES,onMouseEnter:c,onMouseLeave:i,imgSize:Re,children:n?Object(U.jsx)("div",{className:"place-card__mark",children:Object(U.jsx)("span",{children:"Premium"})}):Object(U.jsx)(U.Fragment,{children:" "})})},Ce=function(e){var t=L.endpoints.getComments.useQuery(e),a=t.data;return{comments:null!==a&&void 0!==a?a:[],isLoading:t.isLoading,isError:t.isError}};var Me=function(e){var t=e.onSubmit,a=e.onChange,s=e.rating,c=e.setRating,i=e.isFormDisabled,r=e.comment,n=e.setComment,l=e.isSubmitDisabled;return Object(U.jsxs)("form",{className:"reviews__form form",action:"#",method:"post",onSubmit:t,onChange:a,children:[Object(U.jsx)("label",{className:"reviews__label form__label",htmlFor:"review",children:"Your review"}),Object(U.jsx)("div",{className:"reviews__rating-form form__rating",children:f.map((function(e){return Object(U.jsxs)(o.Fragment,{children:[Object(U.jsx)("input",{className:"form__rating-input visually-hidden",name:"rating",defaultValue:e,id:"".concat(e,"-stars"),type:"radio",checked:e===s,onChange:function(){return c(e)},disabled:i}),Object(U.jsx)("label",{className:"reviews__rating-label form__rating-label",htmlFor:"".concat(e,"-stars"),title:"perfect",children:Object(U.jsx)("svg",{className:"form__star-image",width:37,height:33,children:Object(U.jsx)("use",{xlinkHref:"#icon-star"})})})]},e)}))}),Object(U.jsx)("textarea",{className:"reviews__textarea form__textarea",id:"review",name:"review",placeholder:"Tell how was your stay, what you like and what can be improved",value:r,onChange:function(e){var t=e.target;return n(t.value)},disabled:i}),Object(U.jsxs)("div",{className:"reviews__button-wrapper",children:[Object(U.jsxs)("p",{className:"reviews__help",children:["To submit review please make sure to set"," ",Object(U.jsx)("span",{className:"reviews__star",children:"rating"})," ","and describe your stay with at least"," ",Object(U.jsx)("b",{className:"reviews__text-amount",children:"50 characters"}),"."]}),Object(U.jsx)("button",{className:"reviews__submit form__submit button",type:"submit",disabled:l,children:"Submit"})]})]})};var Pe=function(e){var t=e.hotelId,a=T(),c=Object(H.a)(a,1)[0],i=Object(o.useState)(!0),r=Object(H.a)(i,2),n=r[0],l=r[1],d=Object(o.useState)(!1),j=Object(H.a)(d,2),u=j[0],m=j[1],h=Object(o.useState)(!1),b=Object(H.a)(h,2),p=b[0],_=b[1],O=Object(o.useState)(""),v=Object(H.a)(O,2),x=v[0],f=v[1],y=Object(o.useState)(0),w=Object(H.a)(y,2),L=w[0],E=w[1],S=Object(o.useCallback)((function(){!function(e){return e.length>=s.MIN_LENGTH&&e.length<=s.MAX_LENGTH}(x)||0===L?l(!0):l(!1)}),[x,L]),I=Object(o.useCallback)((function(e){e.preventDefault(),m(!0),l(!0),c({id:t,body:{comment:x,rating:L}}).unwrap().then((function(){m(!1),E(0),f("")})).catch((function(){m(!1),l(!1),_(!0),setTimeout((function(){return _(!1)}),g)}))}),[x,L]);return Object(U.jsxs)(U.Fragment,{children:[p&&Object(U.jsx)(Y,{text:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435. ".concat(N)}),Object(U.jsx)(Me,{onSubmit:I,onChange:S,rating:L,setRating:E,isFormDisabled:u,comment:x,setComment:f,isSubmitDisabled:n})]})};var ke=function(e){var t=e.commentData,a=t.user,s=t.rating,c=t.comment,i=t.date,r=a.avatarUrl,n=a.name;return Object(U.jsxs)("li",{className:"reviews__item",children:[Object(U.jsxs)("div",{className:"reviews__user user",children:[Object(U.jsx)("div",{className:"reviews__avatar-wrapper user__avatar-wrapper",children:Object(U.jsx)("img",{className:"reviews__avatar user__avatar",src:r,width:54,height:54,alt:"Reviews avatar"})}),Object(U.jsx)("span",{className:"reviews__user-name",children:n})]}),Object(U.jsxs)("div",{className:"reviews__info",children:[Object(U.jsx)("div",{className:"reviews__rating rating",children:Object(U.jsxs)("div",{className:"reviews__stars rating__stars",children:[Object(U.jsx)("span",{style:{width:k(s)}}),Object(U.jsx)("span",{className:"visually-hidden",children:"Rating"})]})}),Object(U.jsx)("p",{className:"reviews__text",children:c}),Object(U.jsx)("time",{className:"reviews__time",dateTime:P()(i).format("YYYY-MM-DD"),children:P()(i).format("MMMM YYYY")})]})]})};var De=function(e){var t=e.commentsTotal,a=e.shownComments,s=e.isAuth,c=e.hotelId;return Object(U.jsxs)("section",{className:"property__reviews reviews",children:[Object(U.jsxs)("h2",{className:"reviews__title",children:["Reviews \xb7"," ",Object(U.jsx)("span",{className:"reviews__amount",children:t})]}),Object(U.jsx)("ul",{className:"reviews__list",children:a.map((function(e){return Object(U.jsx)(ke,{commentData:e},e.id)}))}),s&&Object(U.jsx)(Pe,{hotelId:c})]})};var He=function(e){var t=e.isAuth,a=void 0!==t&&t,s=e.hotelId,c=Ce(s),i=c.comments,r=c.isLoading,n=c.isError,o=Object(Ae.a)(i).sort((function(e,t){return a=e.date,s=t.date,P()(s).diff(P()(a));var a,s})).slice(0,10);return r?Object(U.jsx)(je,{}):Object(U.jsxs)(U.Fragment,{children:[n&&Object(U.jsx)(Y,{text:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439. ".concat(N)}),Object(U.jsx)(De,{commentsTotal:i.length,shownComments:o,isAuth:a,hotelId:s})]})},ze={type:n.PROPERTY,width:31,height:33};var Ue=function(e){var t=e.id,a=e.isFavorite;return Object(U.jsx)(Q,{id:t,isFavorite:a,style:ze})};var Ge=function(e){var t=e.host,a=e.children,s=t.avatarUrl,c=t.isPro,i=t.name;return Object(U.jsxs)("div",{className:"property__host",children:[Object(U.jsx)("h2",{className:"property__host-title",children:"Meet the host"}),Object(U.jsxs)("div",{className:"property__host-user user",children:[Object(U.jsx)("div",{className:"property__avatar-wrapper user__avatar-wrapper ".concat(c?"property__avatar-wrapper--pro":""),children:Object(U.jsx)("img",{className:"property__avatar user__avatar",src:s,width:74,height:74,alt:"Avatar ".concat(i)})}),Object(U.jsx)("span",{className:"property__user-name",children:i}),c&&Object(U.jsx)("span",{className:"property__user-status",children:"Pro"})]}),a]})};var Ye=function(e){var t=e.isAuth,a=e.hotel,s=e.hotels,c=a.type,i=a.images,r=a.isPremium,n=a.title,o=a.id,l=a.isFavorite,d=a.rating,j=a.bedrooms,u=a.maxAdults,m=a.price,h=a.goods,b=a.host,p=a.description,_=a.city,O=[].concat(Object(Ae.a)(s),[a]);return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("div",{style:{display:"none"},children:Object(U.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",children:[Object(U.jsx)("symbol",{id:"icon-arrow-select",viewBox:"0 0 7 4",children:Object(U.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0l3.5 2.813L7 0v1.084L3.5 4 0 1.084V0z"})}),Object(U.jsx)("symbol",{id:"icon-bookmark",viewBox:"0 0 17 18",children:Object(U.jsx)("path",{d:"M3.993 2.185l.017-.092V2c0-.554.449-1 .99-1h10c.522 0 .957.41.997.923l-2.736 14.59-4.814-2.407-.39-.195-.408.153L1.31 16.44 3.993 2.185z"})}),Object(U.jsx)("symbol",{id:"icon-star",viewBox:"0 0 13 12",children:Object(U.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.5 9.644L10.517 12 9.451 7.56 13 4.573l-4.674-.386L6.5 0 4.673 4.187 0 4.573 3.549 7.56 2.483 12 6.5 9.644z"})})]})}),Object(U.jsxs)("div",{className:"page",children:[Object(U.jsx)(q,{}),Object(U.jsxs)("main",{className:"page__main page__main--property",children:[Object(U.jsxs)("section",{className:"property",children:[Object(U.jsx)("div",{className:"property__gallery-container container",children:Object(U.jsx)("div",{className:"property__gallery",children:i.slice(0,6).map((function(e){return Object(U.jsx)("div",{className:"property__image-wrapper",children:Object(U.jsx)("img",{className:"property__image",src:e,alt:c})},e)}))})}),Object(U.jsx)("div",{className:"property__container container",children:Object(U.jsxs)("div",{className:"property__wrapper",children:[r&&Object(U.jsx)("div",{className:"property__mark",children:Object(U.jsx)("span",{children:"Premium"})}),Object(U.jsxs)("div",{className:"property__name-wrapper",children:[Object(U.jsx)("h1",{className:"property__name",children:n}),Object(U.jsx)(Ue,{id:o,isFavorite:l})]}),Object(U.jsxs)("div",{className:"property__rating rating",children:[Object(U.jsxs)("div",{className:"property__stars rating__stars",children:[Object(U.jsx)("span",{style:{width:k(d)}}),Object(U.jsx)("span",{className:"visually-hidden",children:"Rating"})]}),Object(U.jsx)("span",{className:"property__rating-value rating__value",children:d})]}),Object(U.jsxs)("ul",{className:"property__features",children:[Object(U.jsx)("li",{className:"property__feature property__feature--entire",children:c}),Object(U.jsxs)("li",{className:"property__feature property__feature--bedrooms",children:[j," ","Bedrooms"]}),Object(U.jsxs)("li",{className:"property__feature property__feature--adults",children:["Max"," ",u," ","adults"]})]}),Object(U.jsxs)("div",{className:"property__price",children:[Object(U.jsxs)("b",{className:"property__price-value",children:["\u20ac",m]}),Object(U.jsx)("span",{className:"property__price-text",children:"\xa0night"})]}),Object(U.jsxs)("div",{className:"property__inside",children:[Object(U.jsx)("h2",{className:"property__inside-title",children:"What\u2018s inside"}),Object(U.jsx)("ul",{className:"property__inside-list",children:h.map((function(e){return Object(U.jsx)("li",{className:"property__inside-item",children:e},e)}))})]}),Object(U.jsx)(Ge,{host:b,children:Object(U.jsx)("div",{className:"property__description",children:Object(U.jsx)("p",{className:"property__text",children:p})})}),Object(U.jsx)(He,{isAuth:t,hotelId:o})]})}),Object(U.jsx)("section",{className:"property__map map",children:Object(U.jsx)(re,{activeCity:_,hotels:O,selectedPoint:a})})]}),Object(U.jsx)("div",{className:"container",children:Object(U.jsxs)("section",{className:"near-places places",children:[Object(U.jsx)("h2",{className:"near-places__title",children:"Other places in the neighbourhood"}),Object(U.jsx)("div",{className:"near-places__list places__list",children:s.slice(0,3).map((function(e){return Object(U.jsx)(Fe,{cardData:e},e.id)}))})]})})]})]})]})};var qe=function(e){var t=e.isAuth,a=void 0!==t&&t,s=Ie(),c=s.hotels,i=void 0===c?[]:c,r=s.hotel,n=s.isLoadingHotel,o=s.isError;return n?Object(U.jsx)(je,{}):o?Object(U.jsx)(Y,{text:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e \u043e\u0431 \u043e\u0442\u0435\u043b\u0435. ".concat(N)}):void 0===r?Object(U.jsx)(be,{}):Object(U.jsx)(Ye,{isAuth:a,hotel:r,hotels:i})};var Ve=function(){var e=S().refetch,t=I(),a=Object(H.a)(t,1)[0],s=Object(C.g)(),i=Object(o.useState)({data:"",message:"",success:!1}),r=Object(H.a)(i,2),n=r[0],l=r[1],d=Object(o.useState)({data:"",message:"",success:!1}),j=Object(H.a)(d,2),u=j[0],m=j[1],h=Object(o.useState)(!1),b=Object(H.a)(h,2),p=b[0],_=b[1],O=Object(o.useCallback)((function(e){e.preventDefault();var t=new FormData(e.currentTarget);!function(e,t){y.EMAIL.test(e)?(l({data:e,message:"",success:!0}),y.ONE_SIMBOL.test(t)?m({data:t,message:"",success:!0}):m({data:t,message:"Password should not consist of only spaces",success:!1})):l({data:e,message:"Typo in email",success:!1})}(t.get("email"),t.get("password"))}),[]);return Object(o.useEffect)((function(){if(n.success&&u.success){var t={email:n.data,password:u.data};a(t).unwrap().then((function(t){sessionStorage.setItem("token",t.token),e(),s.push(c.DEFAULT_CITY)})).catch((function(){_(!0),setTimeout((function(){return _(!1)}),g)}))}}),[a,n,u,s,e]),Object(U.jsxs)(U.Fragment,{children:[p&&Object(U.jsx)(Y,{text:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f. ".concat(N)}),Object(U.jsx)("div",{style:{display:"none"},children:Object(U.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",children:[Object(U.jsx)("symbol",{id:"icon-arrow-select",viewBox:"0 0 7 4",children:Object(U.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0l3.5 2.813L7 0v1.084L3.5 4 0 1.084V0z"})}),Object(U.jsx)("symbol",{id:"icon-bookmark",viewBox:"0 0 17 18",children:Object(U.jsx)("path",{d:"M3.993 2.185l.017-.092V2c0-.554.449-1 .99-1h10c.522 0 .957.41.997.923l-2.736 14.59-4.814-2.407-.39-.195-.408.153L1.31 16.44 3.993 2.185z"})}),Object(U.jsx)("symbol",{id:"icon-star",viewBox:"0 0 13 12",children:Object(U.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.5 9.644L10.517 12 9.451 7.56 13 4.573l-4.674-.386L6.5 0 4.673 4.187 0 4.573 3.549 7.56 2.483 12 6.5 9.644z"})})]})}),Object(U.jsxs)("div",{className:"page page--gray page--login",children:[Object(U.jsx)(q,{}),Object(U.jsx)("main",{className:"page__main page__main--login",children:Object(U.jsxs)("div",{className:"page__login-container container",children:[Object(U.jsxs)("section",{className:"login",children:[Object(U.jsx)("h1",{className:"login__title",children:"Sign in"}),Object(U.jsxs)("form",{className:"login__form form",action:"#",method:"post",onSubmit:O,children:[Object(U.jsxs)("div",{className:"login__input-wrapper form__input-wrapper",children:[n.message&&Object(U.jsx)("div",{children:n.message}),Object(U.jsx)("label",{className:"visually-hidden",children:"E-mail"}),Object(U.jsx)("input",{className:"login__input form__input",type:"email",name:"email",placeholder:"Email",required:!0})]}),Object(U.jsxs)("div",{className:"login__input-wrapper form__input-wrapper",children:[u.message&&Object(U.jsx)("div",{children:u.message}),Object(U.jsx)("label",{className:"visually-hidden",children:"Password"}),Object(U.jsx)("input",{className:"login__input form__input",type:"password",name:"password",placeholder:"Password",required:!0})]}),Object(U.jsx)("button",{className:"login__submit form__submit button",type:"submit",children:"Sign in"})]})]}),Object(U.jsx)("section",{className:"locations locations--login locations--current",children:Object(U.jsx)("div",{className:"locations__item",children:Object(U.jsx)(F.b,{className:"locations__item-link",to:D(c.DEFAULT_CITY),children:Object(U.jsx)("span",{children:c.DEFAULT_CITY})})})})]})})]})]})},Be=a(32),Qe=["isAuth","authPath"];function We(e){var t=e.isAuth,a=e.authPath,s=Object(Be.a)(e,Qe);return t?Object(U.jsx)(C.b,Object(b.a)({},s)):Object(U.jsx)(C.a,{to:{pathname:a}})}var Xe=function(){var e=z().isAuth;return Object(U.jsx)(F.a,{children:Object(U.jsxs)(C.d,{children:[Object(U.jsx)(We,{isAuth:e,authPath:D(c.LOGIN),path:D(c.FAVORITES),children:Object(U.jsx)(Se,{})}),Object(U.jsx)(We,{isAuth:!e,authPath:D(c.MAIN),path:D(c.LOGIN),children:Object(U.jsx)(Ve,{})}),Object(U.jsx)(C.b,{exact:!0,path:"".concat(D(c.OFFER),"/:id"),children:Object(U.jsx)(qe,{isAuth:e})}),Object(U.jsx)(C.b,{exact:!0,path:"".concat(D(c.MAIN),":city?/:sorting?"),children:Object(U.jsx)(fe,{})}),Object(U.jsx)(C.b,{children:Object(U.jsx)(be,{})})]})})};Object(l.render)(Object(U.jsx)(o.StrictMode,{children:Object(U.jsx)(d.a,{store:R,children:Object(U.jsx)(Xe,{})})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.f841b3f1.chunk.js.map